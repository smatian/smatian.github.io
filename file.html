<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape In-App Browser</title>
    <script>
        function escapeInAppBrowser(url) {
            // Try window.open for new tabs in default browser
            window.open(url, '_blank');

            // Try setting the location for direct navigation
            window.location.href = url;
        }

        function triggerSchemes() {
            // URL schemes to try
            const schemes = [
                'http://example.com',                 // Open HTTP site
                'https://example.com',                // Open HTTPS site
                'ftp://ftp.example.com',              // Open FTP file
                'x-web-search://',                    // Search
                'com-apple-mobilesafari-tab://',      // Open Safari tab (Apple-specific)
                'safari-web-extension://',            // Safari web extension
                'webclip://',                         // Webclip
                'intent://example.com#Intent;scheme=https;package=com.android.chrome;end',  // Android Chrome intent
                'googlechrome://example.com',         // Open in Chrome (iOS)
                'firefox://open-url?url=https://example.com', // Open in Firefox (iOS)
                'opera://open-url?url=https://example.com',   // Open in Opera
            ];

            // Try opening each scheme
            schemes.forEach((scheme, index) => {
                setTimeout(() => {
                    escapeInAppBrowser(scheme);
                }, index * 500); // 500ms delay between each attempt
            });
        }

        window.onload = function() {
            // Automatically trigger the schemes after loading
            triggerSchemes();
        };
    </script>
</head>
<body>
    <h1>Escape In-App Browser</h1>
    <p>If you're viewing this in an in-app browser (like TikTok or Snapchat), it will try to escape and open the links in the default browser or respective apps.</p>
    
    <button onclick="triggerSchemes()">Try to Escape</button>

    <ul>
        <li><a href="http://example.com" target="_blank">Open HTTP site</a></li>
        <li><a href="https://example.com" target="_blank">Open HTTPS site</a></li>
        <li><a href="ftp://ftp.example.com" target="_blank">Open FTP file</a></li>
        <li><a href="x-web-search://" target="_blank">Search</a></li>
        <li><a href="com-apple-mobilesafari-tab://" target="_blank">Open Safari tab (iOS)</a></li>
        <li><a href="safari-web-extension://" target="_blank">Safari web extension</a></li>
        <li><a href="webclip://" target="_blank">Webclip</a></li>
        <li><a href="intent://example.com#Intent;scheme=https;package=com.android.chrome;end" target="_blank">Open in Chrome (Android)</a></li>
        <li><a href="googlechrome://example.com" target="_blank">Open in Chrome (iOS)</a></li>
        <li><a href="firefox://open-url?url=https://example.com" target="_blank">Open in Firefox</a></li>
        <li><a href="opera://open-url?url=https://example.com" target="_blank">Open in Opera</a></li>
    </ul>
</body>
</html>
